<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg"
        crossorigin="anonymous">

    <style>
        .img-responsive {
            border: none;
            transition: all .3s;
        }

        .img-responsive.active {
            border: solid 1px red;
            box-shadow: 0 0 20px red;
            transition: all 0s;
        }
    </style>


</head>

<body style="font-family:微軟正黑體">
    <div class="container-fluid text-center">
        <div class="row mt-2">
            <div class="col">
                <img id="i1" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Steering-Wheel-Ship-icon.png'
                    alt='Wheel' />
                <img id="i2" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Flag-Jolly-Roger-icon.png'
                    alt='Roger' />
                <img id="i3" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Pirate-Ship-icon.png'
                    alt='Ship' />
                <img id="i4" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Telescope-icon.png' alt='Telescope'
                />
                <img id="i5" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Pirate-Ship-icon.png'
                    alt='Ship' />
                <img id="i6" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Flag-Jolly-Roger-icon.png'
                    alt='Roger' />
                <img id="i7" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Steering-Wheel-Ship-icon.png'
                    alt='Wheel' />
                <img id="i8" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Telescope-icon.png' alt='Telescope'
                />
                <img id="i9" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Flag-Jolly-Roger-icon.png'
                    alt='Roger' />
                <img id="i10" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Pirate-Ship-icon.png'
                    alt='Ship' />
                <img id="i11" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Steering-Wheel-Ship-icon.png'
                    alt='Wheel' />
            </div>

        </div>
        <div class="row mt-2">
            <div class="col">
                <img id=i28 class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Telescope-icon.png' alt='Telescope'
                />
            </div>
            <div class="col">
            </div>
            <div class="col">
            </div>
            <div class="col">
            </div>
            <div class="col">
            </div>
            <div class="col">
            </div>
            <div class="col">
            </div>
            <div class="col">
                <img id=i12 class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Flag-Jolly-Roger-icon.png'
                    alt='Roger' />
            </div>
        </div>
        <div class="row mt-2">
            <div class="col">
                <img id=i27 class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Flag-Jolly-Roger-icon.png'
                    alt='Roger' />
            </div>
            <div class="col">

            </div>
            <div class="col">
                <div>
                    <img id=_100 class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/64/Flag-Jolly-Roger-icon.png'
                        alt='Roger' />
                </div>
                <div>
                    <button type="button" id="Roger" class="btn btn-success">100</button>
                </div>
            </div>
            <div class="col">
                <div>
                    <img id=_60 class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/64/Pirate-Ship-icon.png' alt='Ship'
                    />
                </div>
                <div>
                    <button type="button" id="Ship" class="btn btn-success">60</button>
                </div>

            </div>
            <div class="col">
                <div>
                    <img id=_30 class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/64/Steering-Wheel-Ship-icon.png'
                        alt='Wheel' />
                </div>
                <div>
                    <button type="button" id="Wheel" class="btn btn-success">30</button>
                </div>

            </div>
            <div class="col">
                <div>
                    <img id=_10 class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/64/Telescope-icon.png' alt='Telescope'
                    />
                </div>
                <div>
                    <button type="button" id="Telescope" class="btn btn-success">10</button>
                </div>
            </div>
            <div class="col">
            </div>
            <div class="col">
                <img id=i13 class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Steering-Wheel-Ship-icon.png'
                    alt='Wheel' />
            </div>
        </div>
        <div class="row mt-2">
            <div class="col">
                <img id=i26 class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Steering-Wheel-Ship-icon.png'
                    alt='Wheel' />
            </div>
            <div class="col-4">
            </div>

            <div class="col-1">
                遊戲金額 :
                <input type="text" id="Money" class="form-control" placeholder="500" aria-label="Username" aria-describedby="basic-addon1">
            </div>
            <div class="col-4">
            </div>
            <div class="col">
                <img id=i14 class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Telescope-icon.png' alt='Telescope'
                />
            </div>
        </div>
        <div class="row mt-2">
            <div class="col">
                <img id="i25" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Pirate-Ship-icon.png'
                    alt='Ship' />
                <img id="i24" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Telescope-icon.png' alt='Telescope'
                />
                <img id="i23" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Flag-Jolly-Roger-icon.png'
                    alt='Roger' />
                <img id="i22" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Telescope-icon.png' alt='Telescope'
                />
                <img id="i21" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Pirate-Ship-icon.png'
                    alt='Ship' />
                <img id="i20" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Steering-Wheel-Ship-icon.png'
                    alt='Wheel' />
                <img id="i19" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Pirate-Ship-icon.png'
                    alt='Ship' />
                <img id="i18" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Telescope-icon.png' alt='Telescope'
                />
                <img id="i17" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Flag-Jolly-Roger-icon.png'
                    alt='Roger' />
                <img id="i16" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Steering-Wheel-Ship-icon.png'
                    alt='Wheel' />
                <img id="i15" class="img-responsive" src='http://icons.iconarchive.com/icons/pixelpress/pirates/128/Pirate-Ship-icon.png'
                    alt='Ship' />
            </div>
        </div>
        <div class="row mt-3">
            <div class="col">
                <button type="button" id="go" class="btn btn-primary btn-lg btn-block">GO!</button>
            </div>
        </div>


    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        var money = 500;
        var bricks = [];
        var currentBrick = 0;
        var forwardSteps = 0;
        var _forwardSteps = 0;
        var guess = null;
        $("#Money").val(500);
        var _money = document.getElementById("Money");
        console.log(_money.value);

        function init() {
            var n = 0;
            while (true) {
                ++n;
                var brick = document.getElementById("i" + n);
                if (!brick) {
                    break;
                }
                bricks.push(brick);
            }
            document.getElementById("go").onclick = function () {
                forwardSteps = (bricks.length * 5);
                forwardSteps += Math.floor(Math.random() * bricks.length);
                _forwardSteps = forwardSteps;
                currentBrick = 0;
                forwardBrick();          
            }
        }
        function forwardBrick() {
            bricks[currentBrick].className = "img-responsive";
            currentBrick++;
            if (currentBrick >= bricks.length) {
                currentBrick = 0;
            }
            bricks[currentBrick].className = "img-responsive active";
            if (--forwardSteps > 0) {
                setTimeout(forwardBrick, 20);
            }
            if (forwardSteps == 0) {
                Win();
                if (_money.value <= 0) {
                    alert("破產");
                }
            }
        }
        function Win() {
            var win = (_forwardSteps) % 28 + 2;
            var a = document.getElementById("i" + win).alt;
            if (guess == a) {
                if (guess == "Roger") {
                    var m = $("#Roger");
                    m = m[0].innerText;
                    var c = parseInt(_money.value);
                    $("#Money").val(c + (m * 3));
                    alert("恭喜投注成功");
                    console.log(m);
                    console.log(c);
                }
                if (guess == "Ship") {
                    var m = $("#Ship");
                    m = m[0].innerText;
                    var c = parseInt(_money.value);
                    $("#Money").val(c + (m * 3));
                    alert("恭喜投注成功");
                }
                if (guess == "Wheel") {
                    var m = $("#Wheel");
                    m = m[0].innerText;
                    var c = parseInt(_money.value);
                    $("#Money").val(c + (m * 3));
                    alert("恭喜投注成功");
                }
                if (guess == "Telescope") {
                    var m = $("#Telescope");
                    m = m[0].innerText;
                    var c = parseInt(_money.value);
                    $("#Money").val(c + (m * 3));
                    alert("恭喜投注成功");
                }
            }
            console.log(win);
            console.log(a);
        }

        $("#Roger").on("click", function () {
            _money.value -= 100;
            guess = $("this");
            guess = guess.prevObject[0].activeElement.attributes[1].value;
            console.log(guess);
        });
        $("#Ship").on("click", function () {
            _money.value -= 60;
            guess = $("this");
            guess = guess.prevObject[0].activeElement.attributes[1].value;
            console.log(guess);
        });
        $("#Wheel").on("click", function () {
            _money.value -= 30;
            guess = $("this");
            guess = guess.prevObject[0].activeElement.attributes[1].value;
            console.log(guess);
        });
        $("#Telescope").on("click", function () {
            _money.value -= 10;
            guess = $("this");
            guess = guess.prevObject[0].activeElement.attributes[1].value;
            console.log(guess);
        });

        init();

    </script>



    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>

</html>